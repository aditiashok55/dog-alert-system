<!DOCTYPE html> 
<html lang="en"> 
<head> 
<meta charset="UTF-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
<title>Smart Dog Collar Dashboard</title> 
<style> 
    body { 
    font-family: "Arial", sans-serif; 
    background: linear-gradient (135deg, #f6f8fc 0%, #e9f1f9 100%); 
    margin: 0; 
    padding: 0; 
    min-height: 100vh; 
    }
    
    header { 
    background: linear-gradient (90deg, #4a90e2 0%, #67b26f 100%); 
    color: #ffffff; 
    text-align: center; 
    padding: 1.5rem; 
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); 
    } 

    .container { 
    margin: 2rem auto; 
    max-width: 1400px; 
    padding: 1.5rem; 
    background-color: rgba(255, 255, 255, 0.95); 
    border-radius: 15px; 
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); 
    } 

    h1, 
    h2 { 
    color: #2c3e50; 
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); 
    } 

    .dashboard { 
    display: flex; 
    flex-wrap: wrap; 
    gap: 2rem; 
    justify-content: space-around; 
    padding: 1rem; 
    } 

    .card {
    flex: 1; 
    min-width: 400px; 
    height: 450px; 
    padding: 2rem; 
    text-align: center; 
    background: linear-gradient (135deg, #ffffff 0%, #f8f9fa 100%); 
    border-radius: 15px; 
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); 
    transition: transform 0.3s ease; 
    display: flex; 
    flex-direction: column; 
    } 

    .card:hover { 
    transform: translateY(-5px); 
    } 

    .card h3 { 
    color: #4a90e2; 
    font-size: 1.4rem; 
    margin-bottom: 1.5rem; 
    } 

    .chart-container { 
    flex: 1; 
    position: relative; 
    width: 100%; 
    height: 100%; 
    } 

    .upload-section { 
    text-align: center; 
    margin: 2rem 0;
    padding: 2.5rem; 
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); 
    border-radius: 15px; 
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); 
    } 

    .upload-button { 
    padding: 12px 24px; 
    background: linear-gradient(90deg, #4a90e2 0%, #67b26f 100%); 
    color: white; 
    border: none; 
    border-radius: 25px; 
    cursor: pointer; 
    font-size: 1.1rem; 
    transition: all 0.3s ease; 
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); 
    } 

    .upload-button:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15); 
    } 

    #fileName { 
    margin-top: 1rem; 
    color: #666; 
    font-style: italic; 
    } 

    @media (max-width: 1400px) { 
    .card { 
        min-width: 350px; 
        height: 400px; 
    } 
    } 
</style> 
</head> 
<body> 
<header> 
    <h1>Welcome to the Smart Dog Collar Dashboard</h1> 
</header> 

<div class="container"> 
    <div class="upload-section"> 
    <h2>Upload CSV Data</h2> 
    <input type="file" id="csvFile" accept=".csv" style="display: none" /> 
    <button 
        class="upload-button" 
        onclick="document.getElementById('csvFile').click()" 
    > 
        Choose CSV File 
    </button> 
    <p id="fileName"></p> 
    </div> 

    <h2>Dashboard</h2> 
    <div class="dashboard"> 
    <div class="card"> 
        <h3>Trend Analysis</h3> 
        <div class="chart-container"> 
        <canvas id="chart1"></canvas> 
        </div> 
    </div> 

    <div class="card"> 
        <h3>Comparison View</h3>

        <div class="chart-container"> 
        <canvas id="chart2"></canvas> 
        </div> 
    </div> 

    <div class="card"> 
        <h3>Data Overview</h3> 
        <div class="chart-container"> 
        <canvas id="chart3"></canvas> 
        </div> 
    </div> 

    <!-- New Scatter Plot Card --> 
    <div class="card"> 
        <h3>Correlation Analysis</h3> 
        <div class="chart-container"> 
        <canvas id="chart4"></canvas> 
        </div> 
    </div> 
    </div> 

    <div class="upload-section"> 
    <h2>Data Table</h2> 
    <table 
        id="dataTable" 
        border="1" 
        style="width: 100%; text-align: center; margin-top: 2rem" 
    > 
        <thead> 
        <tr> 
            <th>Entry</th> 
            <th>Value</th> 
        </tr>

    </thead> 
    <tbody id="tableBody"></tbody> 
    </table> 
</div> 
</div> 

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
<script> 
let charts = []; 
const colorPalette = { 
    primary: [ 
    "rgba(75, 192, 192, 0.8)", 
    "rgba(255, 99, 132, 0.8)", 
    "rgba(255, 205, 86, 0.8)", 
    "rgba(54, 162, 235, 0.8)", 
    "rgba(153, 102, 255, 0.8)", 
    "rgba(255, 159, 64, 0.8)", 
    ], 
    background: [ 
    "rgba(75, 192, 192, 0.2)", 
    "rgba(255, 99, 132, 0.2)", 
    "rgba(255, 205, 86, 0.2)", 
    "rgba(54, 162, 235, 0.2)", 
    "rgba(153, 102, 255, 0.2)", 
    "rgba(255, 159, 64, 0.2)", 
    ], 
}; 

document 
    .getElementById("csvFile") 
    .addEventListener("change", function (e) { 
    const file = e.target.files[0]; 
    document.getElementById(
        "fileName" 
        ).textContent = `Selected file: ${file.name}`; 

        const reader = new FileReader(); 
        reader.onload = function (event) { 
        const csvData = event.target.result; 
        processData(csvData); 
        }; 
        reader.readAsText(file); 
    }); 

    function processData(csv) { 
    const lines = csv.split("\n"); 
    const headers = lines[0].split(",").map((header) => header.trim()); 
    const data = []; 

    for (let i = 1; i < lines.length; i++) { 
        if (lines[i].trim() === "") continue; 
        const values = lines[i].split(","); 
        const row = {}; 
        headers.forEach((header, index) => { 
        row[header] = parseFloat(values[index]) || values[index]; 
        }); 
        data.push(row); 
    } 

    updateCharts(headers, data); 
    updateTable(data); 
    } 

    function updateCharts(headers, data) { 
    charts.forEach((chart) => chart.destroy()); 
    charts = []; 
    
    const commonOptions = { 
        responsive: true, 
        maintainAspectRatio: false, 
        plugins: { 
        title: { 
            font: { 
            size: 18, 
            weight: "bold", 
            }, 
            padding: 20, 
        }, 
        legend: { 
            labels: { 
            font: { 
                size: 14, 
            }, 
            padding: 20, 
            }, 
        }, 
        tooltip: { 
            enabled: true, 
            callbacks: { 
            label: function (tooltipItem) { 
                return ( 
                tooltipItem.dataset.label + 
                ": " + 
                tooltipItem.raw.toFixed(2) 
                ); 
            }, 
            }, 
        }, 
        },
    }; 

// Trend Analysis Line Chart 
const ctx1 = document.getElementById("chart1").getContext("2d"); 
charts.push( 
new Chart(ctx1, { 
    type: "line", 
    data: { 
    labels: data.map((_, index) => `Entry ${index + 1}`), 
    datasets: [ 
        { 
        label: headers[1], 
        data: data.map((row) => row[headers[1]]), 
        borderColor: colorPalette.primary[0], 
        backgroundColor: colorPalette.background[0], 
        fill: true, 
        tension: 0.4, 
        pointRadius: 8, 
        pointHoverRadius: 10, 
        pointBackgroundColor: "white", 
        pointBorderColor: colorPalette.primary[0], 
        pointBorderWidth: 2, 
        }, 
    ], 
    }, 
    options: { 
    ...commonOptions, 
    plugins: { 
        ...commonOptions.plugins, 
        title: { 
        ...commonOptions.plugins.title, 
        text: `${headers[1]} Trend Analysis`, 
        },
    }, 
            scales: { 
            y: { 
                beginAtZero: true, 
                grid: { 
                color: "rgba(0, 0, 0, 0.1)", 
                }, 
                ticks: { 
                font: { 
                    size: 12, 
                }, 
                }, 
            }, 
            x: { 
                grid: { 
                color: "rgba(0, 0, 0, 0.1)", 
                }, 
                ticks: { 
                font: { 
                    size: 12, 
                }, 
                }, 
            }, 
            }, 
        }, 
        }) 
    ); 

    // Comparison Chart 
    const ctx2 = document.getElementById("chart2").getContext("2d"); 
    charts.push( 
        new Chart(ctx2, { 
        type: "bar",
        data: { 
            labels: data.map((_, index) => `Entry ${index + 1}`), 
            datasets: [ 
            { 
                label: headers[1], 
                data: data.map((row) => row[headers[1]]), 
                backgroundColor: colorPalette.primary[1], 
            }, 
            { 
                label: headers[2], 
                data: data.map((row) => row[headers[2]]), 
                backgroundColor: colorPalette.primary[2], 
            }, 
            ], 
        }, 
        options: { 
            ...commonOptions, 
            plugins: { 
            ...commonOptions.plugins, 
            title: { 
                ...commonOptions.plugins.title, 
                text: "Comparison of Data Trends", 
            }, 
            }, 
        }, 
        }) 
    ); 

    // Distribution Pie Chart 
    const ctx3 = document.getElementById("chart3").getContext("2d"); 
    charts.push( 
        new Chart(ctx3, { 
        type: "pie", 
        data: { 
            labels: headers.slice(1), 
            datasets: [ 
            { 
                label: "Distribution of Data", 
                data: headers 
                .slice(1) 
                .map((header) => 
                    data.reduce((sum, row) => sum + (row[header] || 0), 0) 
                ), 
                backgroundColor: colorPalette.primary, 
            }, 
            ], 
        }, 
        options: { 
            responsive: true, 
            plugins: { 
            ...commonOptions.plugins, 
            title: { 
                ...commonOptions.plugins.title, 
                text: "Data Distribution Overview", 
            }, 
            legend: { 
                position: "top", 
            }, 
            }, 
        }, 
        }) 
    ); 

    // Scatter Plot Chart (New) 
    const ctx4 = document.getElementById("chart4").getContext("2d"); 
    charts.push(
        new Chart(ctx4, { 
        type: "scatter", 
        data: { 
            datasets: [ 
            { 
                label: "Correlation Plot", 
                data: data.map((row) => ({ 
                x: row[headers[1]], 
                y: row[headers[2]], 
                })), 
                backgroundColor: colorPalette.primary[3], 
                borderColor: colorPalette.primary[3], 
                borderWidth: 1, 
                pointRadius: 5, 
                pointHoverRadius: 7, 
            }, 
            ], 
        }, 
        options: { 
            responsive: true, 
            plugins: { 
            ...commonOptions.plugins, 
            title: { 
                ...commonOptions.plugins.title, 
                text: "Correlation Analysis between Columns", 
            }, 
            }, 
            scales: { 
            x: { 
                title: { 
                display: true, 
                text: headers[1], 
                font: {
                    size: 14, 
                }, 
                }, 
            }, 
            y: { 
                title: { 
                display: true, 
                text: headers[2], 
                font: { 
                    size: 14, 
                }, 
                }, 
            }, 
            }, 
        }, 
        }) 
    ); 
    } 

    function updateTable(data) { 
    const tableBody = document.getElementById("tableBody"); 
    tableBody.innerHTML = ""; 
    data.forEach((row, index) => { 
        const rowElement = document.createElement("tr"); 
        rowElement.innerHTML = `<td>Entry ${ 
        index + 1 
        }</td><td>${Object.values(row).join(", ")}</td>`; 
        tableBody.appendChild(rowElement); 
    }); 
    } 
</script> 
</body> 
</html>